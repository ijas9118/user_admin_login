<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Up Page</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <div
      class="container d-flex justify-content-center position-absolute top-50 start-50 translate-middle"
    >
      <div
        class="row col-lg-6 col-11 col-md-8 col-xl-4 px-2 py-5 px-lg-4 py-lg-5 bg-light rounded-3 form-container"
      >
        <form action="/signup" method="post">
          <div class="row mb-4">
            <h1 class="fw-bolder text-center text-light">Sign Up</h1>
          </div>
          <span class="text-light">Register as: </span>
          <div class="form-check form-check-inline ms-2">
            <input
              class="form-check-input"
              type="radio"
              name="role"
              value="user"
              id="inlineRadio1"
              checked
              onclick="toggleSecretKey()"
            />
            <label class="form-check-label text-light" for="inlineRadi12"
              >User</label
            >
          </div>
          <div class="form-check form-check-inline ms-2">
            <input
              class="form-check-input"
              type="radio"
              name="role"
              value="admin"
              id="inlineRadio2"
              onclick="toggleSecretKey()"
            />
            <label class="form-check-label text-light" for="inlineRadio2"
              >Admin</label
            >
          </div>

          <div class="mb-2" id="secretKeyDiv">
            <label for="email" class="form-label text-light">Secret Key</label>
            <div class="input-group">
              <input type="text" class="form-control" name="secret" required />
              <span class="input-group-text"><i class="bx bxs-key"></i></span>
            </div>
          </div>
          <div class="mb-2">
            <label for="email" class="form-label text-light">Name</label>
            <div class="input-group">
              <input type="text" class="form-control" name="name" required />
              <span class="input-group-text"><i class="bx bxs-user"></i></span>
            </div>
          </div>
          <div class="mb-2">
            <label for="email" class="form-label text-light"
              >Email address</label
            >
            <div class="input-group">
              <input
                type="email"
                class="form-control"
                name="email"
                aria-describedby="emailHelp"
                required
              />
              <span class="input-group-text"><i class="bx bxl-gmail"></i></span>
            </div>
          </div>
          <div class="mb-3">
            <label for="password" class="form-label text-light">Password</label>
            <div class="input-group">
              <input
                type="password"
                class="form-control"
                name="password"
                required
              />
              <span class="input-group-text"><i class="bx bxs-lock"></i></span>
            </div>
          </div>
          <div class="row text-light">
            <p>
              Already have an account?
              <a
                href="/"
                class="link-info link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover"
                >Login</a
              >
            </p>
          </div>
          <div class="d-grid mt-2">
            <button type="submit" class="btn btn-primary">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </body>
  <script>
    function toggleSecretKey() {
      var secretKeyDiv = document.getElementById("secretKeyDiv");
      var isAdmin = document.getElementById("inlineRadio2").checked;
      if (isAdmin) {
        if (!secretKeyDiv) {
          // Create the secret key div if it doesn't exist
          var form = document.querySelector("form");
          var newDiv = document.createElement("div");
          newDiv.className = "mb-2";
          newDiv.id = "secretKeyDiv";
          newDiv.innerHTML = `
            <label for="secret" class="form-label text-light">Secret Key</label>
            <div class="input-group">
              <input type="text" class="form-control" name="secret" required />
              <span class="input-group-text"><i class='bx bxs-key' ></i></span>
            </div>
          `;
          form.insertBefore(newDiv, form.childNodes[8]); // Insert before the Name field
        }
      } else {
        if (secretKeyDiv) {
          secretKeyDiv.remove();
        }
      }
    }
    window.onload = toggleSecretKey;
  </script>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"
  ></script>
</html>
